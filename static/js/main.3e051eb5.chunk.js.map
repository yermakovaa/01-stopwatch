{"version":3,"sources":["components/Stopwatch/Stopwatch.module.css","components/Container/Container.module.css","components/Container/Container.js","components/Stopwatch/Stopwatch.js","App.js","index.js"],"names":["module","exports","Container","children","className","s","container","Stopwatch","useState","time","setTime","isActive","setIsActive","stopwatch$","interval","useEffect","start","pipe","startWith","scan","share","subscribe","value","unsubscribe","handleReset","toggleActive","Date","toISOString","substr","displayStopwatch","wrapperBtn","onClick","e","target","textContent","btn","onDoubleClick","timer","first","disabled","App","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"sGACAA,EAAOC,QAAU,CAAC,KAAO,wBAAwB,WAAa,8BAA8B,IAAM,yB,mBCAlGD,EAAOC,QAAU,CAAC,UAAY,+B,yHCUfC,MARf,YAAkC,IAAbC,EAAY,EAAZA,SACnB,OAAO,qBAAKC,UAAWC,IAAEC,UAAlB,SAA8BH,K,yECCxB,SAASI,IAAa,IAAD,EACVC,mBAAS,GADC,mBAC3BC,EAD2B,KACrBC,EADqB,OAEFF,oBAAS,GAFP,mBAE3BG,EAF2B,KAEjBC,EAFiB,KAG5BC,EAAaC,YAAS,KAE5BC,qBAAU,WACR,IAAMC,EAAQH,EACXI,KACCC,YAAUT,GACVU,aAAK,SAAAV,GAAI,OAAIA,EAAO,KACpBW,eAEDC,WAAU,SAAAC,GACLX,GACFD,EAAQY,MAId,OAAO,kBAAMN,EAAMO,iBAClB,CAACZ,EAAUF,EAAMI,IAEpB,IAMMW,EAAc,WAClBd,EAAQ,IAOJe,EAAe,WACnBb,GAAaD,IAOf,OACE,qCACE,qBAAKP,UAAWC,IAAEI,KAAlB,SANqB,SAAAA,GACvB,OAAO,IAAIiB,KAAY,IAAPjB,GAAakB,cAAcC,OAAO,GAAI,GAK3BC,CAAiBpB,KAC1C,sBAAKL,UAAWC,IAAEyB,WAAlB,UACE,wBAAQC,QA1BM,SAAAC,GAClB,GAA6B,UAAzBA,EAAEC,OAAOC,YAAyB,OAAOT,IAC7CD,IACAC,KAuBkCrB,UAAWC,IAAE8B,IAA3C,SACIxB,EAAqB,OAAV,UAEf,wBACEyB,cApBW,WACjBC,YAAM,KAAKpB,KAAKqB,eAASjB,UAAUT,GAAY,KAoBzC2B,UAAW5B,EACXP,UAAWC,IAAE8B,IAHf,kBAOA,wBAAQJ,QAASP,EAAae,UAAW5B,EAAUP,UAAWC,IAAE8B,IAAhE,yBCnDOK,MARf,WACE,OACE,cAAC,EAAD,UACE,cAACjC,EAAD,O,MCDNkC,IAASC,OACP,cAAC,IAAMC,WAAP,UACE,cAAC,EAAD,MAEFC,SAASC,eAAe,W","file":"static/js/main.3e051eb5.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"time\":\"Stopwatch_time__30v5B\",\"wrapperBtn\":\"Stopwatch_wrapperBtn__3qXI4\",\"btn\":\"Stopwatch_btn__2c2r-\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"container\":\"Container_container__3c6Ud\"};","import PropTypes from 'prop-types';\r\nimport s from './Container.module.css';\r\n\r\nfunction Container({ children }) {\r\n  return <div className={s.container}>{children}</div>;\r\n}\r\n\r\nContainer.propTypes = {\r\n  children: PropTypes.node.isRequired,\r\n};\r\n\r\nexport default Container;\r\n","import { useEffect, useState } from 'react';\nimport { timer, interval } from 'rxjs';\nimport { first, startWith, scan, share } from 'rxjs/operators';\nimport s from './Stopwatch.module.css';\n\nexport default function Stopwatch() {\n  const [time, setTime] = useState(0);\n  const [isActive, setIsActive] = useState(false);\n  const stopwatch$ = interval(1000);\n\n  useEffect(() => {\n    const start = stopwatch$\n      .pipe(\n        startWith(time),\n        scan(time => time + 1),\n        share(),\n      )\n      .subscribe(value => {\n        if (isActive) {\n          setTime(value);\n        }\n      });\n\n    return () => start.unsubscribe();\n  }, [isActive, time, stopwatch$]);\n\n  const handleClick = e => {\n    if (e.target.textContent === 'Start') return toggleActive();\n    handleReset();\n    toggleActive();\n  };\n\n  const handleReset = () => {\n    setTime(0);\n  };\n\n  const handleWait = () => {\n    timer(300).pipe(first()).subscribe(setIsActive(false));\n  };\n\n  const toggleActive = () => {\n    setIsActive(!isActive);\n  };\n\n  const displayStopwatch = time => {\n    return new Date(time * 1000).toISOString().substr(11, 8);\n  };\n\n  return (\n    <>\n      <div className={s.time}>{displayStopwatch(time)}</div>\n      <div className={s.wrapperBtn}>\n        <button onClick={handleClick} className={s.btn}>\n          {!isActive ? 'Start' : 'Stop'}\n        </button>\n        <button\n          onDoubleClick={handleWait}\n          disabled={!isActive}\n          className={s.btn}\n        >\n          Wait\n        </button>\n        <button onClick={handleReset} disabled={!isActive} className={s.btn}>\n          Reset\n        </button>\n      </div>\n    </>\n  );\n}\n","import Container from './components/Container';\nimport Stopwatch from './components/Stopwatch';\n\nfunction App() {\n  return (\n    <Container>\n      <Stopwatch />\n    </Container>\n  );\n}\n\nexport default App;\n","import React from 'react';\r\nimport ReactDOM from 'react-dom';\r\nimport App from './App';\r\nimport './index.css';\r\n\r\nReactDOM.render(\r\n  <React.StrictMode>\r\n    <App />\r\n  </React.StrictMode>,\r\n  document.getElementById('root'),\r\n);\r\n"],"sourceRoot":""}